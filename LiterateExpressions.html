<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /><title>Literate Expressions</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default" /><link rel="stylesheet" type="text/css" href="racket.css" title="default" /><link rel="stylesheet" type="text/css" href="scribble-style.css" title="default" /><script type="text/javascript" src="scribble-common.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist" style="margin-bottom: 1em;"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Literate Expressions</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Using_.Racket%29" class="tocviewlink" data-pltdoc="x">Using Racket</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._.Literate.Expression_.Definitions%29" class="tocviewlink" data-pltdoc="x">Literate<span class="mywbr"> &nbsp;</span>Expression Definitions</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Literate.Expression_.Structures%29" class="tocviewlink" data-pltdoc="x">Literate<span class="mywbr"> &nbsp;</span>Expression Structures</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.Lexp_.Implementation_-_.Unstable%29" class="tocviewlink" data-pltdoc="x">Lexp Implementation -<wbr></wbr> Unstable</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._.Modifier_.Definitions%29" class="tocviewlink" data-pltdoc="x">Modifier Definitions</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#(part._.Using_.Racket)" class="tocsubseclink" data-pltdoc="x">Using Racket</a></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3c.Literate.Expressions~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;LiterateExpressions&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3c.Literate.Expressions_requires~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;LiterateExpressions_requires&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3c.Literate.Expressions_provide~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;LiterateExpressions_provide&gt;</a></span></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#(part._.Literate.Expression_.Definitions)" class="tocsubseclink" data-pltdoc="x">Literate<span class="mywbr"> &nbsp;</span>Expression Definitions</a></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3c.Literate.Expression_.Modifier_.Alias~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;LiterateExpression_Modifier_Alias&gt;</a></span></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#(part._.Literate.Expression_.Structures)" class="tocsubseclink" data-pltdoc="x">Literate<span class="mywbr"> &nbsp;</span>Expression Structures</a></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._.Literate.Expressions-structures~3e~3a1%29%29" class="plainlink" data-pltdoc="x">LiterateExpressions-structures&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3c.Lexp-structures-provide~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;Lexp-structures-provide&gt;</a></span></td></tr><tr><td><span class="tocsublinknumber">3.1<tt>&nbsp;</tt></span><a href="#(part._.Base_.Data.Types)" class="tocsubseclink" data-pltdoc="x">Base Data<span class="mywbr"> &nbsp;</span>Types</a></td></tr><tr><td><span class="tocsublinknumber">3.1.1<tt>&nbsp;</tt></span><a href="#(part._.Racket_lexp_.Data.Type)" class="tocsubseclink" data-pltdoc="x">Racket lexp Data<span class="mywbr"> &nbsp;</span>Type</a></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3c.Literate.Expression_definition~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;LiterateExpression_definition&gt;</a></span></td></tr><tr><td><span class="tocsublinknumber">3.1.2<tt>&nbsp;</tt></span><a href="#(part._.The_.Racket_perl_structure)" class="tocsubseclink" data-pltdoc="x">The Racket perl structure</a></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3c.Literate.Expressions_perl_struct~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;LiterateExpressions_perl_struct&gt;</a></span></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#(part._.Lexp_.Implementation_-_.Unstable)" class="tocsubseclink" data-pltdoc="x">Lexp Implementation -<wbr></wbr> Unstable</a></td></tr><tr><td><span class="tocsublinknumber">4.1<tt>&nbsp;</tt></span><a href="#(part._.Variables)" class="tocsubseclink" data-pltdoc="x">Variables</a></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cimplementation-variables~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;implementation-variables&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cexports~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;exports&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cimplementation-accessors~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;implementation-accessors&gt;</a></span></td></tr><tr><td><span class="tocsublinknumber">4.2<tt>&nbsp;</tt></span><a href="#(part._.Macros)" class="tocsubseclink" data-pltdoc="x">Macros</a></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cbegin.Capture~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;beginCapture&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cend.Capture~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;endCapture&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cregex~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;regex&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cwith.Any.Case~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;withAnyCase&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cmatch.Case~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;matchCase&gt;</a></span></td></tr><tr><td><span class="tocsublinknumber">4.2.1<tt>&nbsp;</tt></span><a href="#(part._.Alternative_.Expressions)" class="tocsubseclink" data-pltdoc="x">Alternative Expressions</a></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3c.O.R~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;OR&gt;</a></span></td></tr><tr><td><span class="tocsublinknumber">4.3<tt>&nbsp;</tt></span><a href="#(part._.Lexp_.Implementaiton_.Admin)" class="tocsubseclink" data-pltdoc="x">Lexp Implementaiton Admin</a></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3clexp-implementation-requires~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;lexp-implementation-requires&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3c%2A~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;*&gt;</a></span></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#(part._.Modifier_.Definitions)" class="tocsubseclink" data-pltdoc="x">Modifier Definitions</a></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3c.Perl-modifiers~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;Perl-modifiers&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cperl-modifiers-requires~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;perl-modifiers-requires&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cperl-modifiers-provide~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;perl-modifiers-provide&gt;</a></span></td></tr><tr><td><span class="tocsublinknumber">5.1<tt>&nbsp;</tt></span><a href="#(part._.Basic_.Modifiers)" class="tocsubseclink" data-pltdoc="x">Basic Modifiers</a></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cmodifier_m~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_m&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cmodifier_s~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_s&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cmodifier_i~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_i&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cmodifier_x~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_x&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cmodifier_p~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_p&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cmodifier_g~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_g&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cmodifier_c~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_c&gt;</a></span></td></tr><tr><td><span class="tocsublinknumber">5.2<tt>&nbsp;</tt></span><a href="#(part._.Character_set_modifiers)" class="tocsubseclink" data-pltdoc="x">Character set modifiers</a></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cmodifier_a~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_a&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cmodifier_d~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_d&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cmodifier_u~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_u&gt;</a></span></td></tr><tr><td><span class="Smaller"><a href="#%28elem._%28chunk._~3cmodifier_l~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_l&gt;</a></span></td></tr></table></div></div><div class="maincolumn"><div class="main"><div class="versionbox"><span class="versionNoNav">5.3.6</span></div><h2><a name="(part._.Literate_.Expressions)"></a>Literate Expressions</h2><p>This project grows out of my first open source project - a quick and dirty port of VerbalExpressions to Racket in August, 2013.
The <a href="https://github.com/VerbalExpressions">VerbalExpressions</a> project was started by <a href="https://github.com/jehna">jehna</a> in JavaScript. The idea behind VerbalExpressions is to create a more readable syntax for Regex&rsquo;s.</p><p>The question quickly arose as to what a VerbalExpression ought to be: does the set of VerbalExpressions include shorthand for commonly used patterns such as URL&rsquo;s and Dates, or is it intended to provide a language isomorphic with that of Regex&rsquo;s.</p><p>As my understanding of Regex&rsquo;s increased, my opinion became that the former is an endless pit of hurt and argument - a Regex for Date is not one thing but many, each depending upon the cultural context. On the other hand, it seems that the base idea of more readable syntax for Regular expressions can&rsquo;t really hurt anyone, at least so long as those authoring it are ok if their work is ignored. My initial thought was that "VerboseExpressions" caught the flavor of what I was after, but fortunately after a little initial effort the project moved to the back burner.</p><h3>1<tt>&nbsp;</tt><a name="(part._.Using_.Racket)"></a>Using Racket</h3><p>Now that it has come back [for a time at least] into the kitchen, the bigger idea is to take a literate programming approach to the project. Thus, the name "LiterateExpressions," captures both the flavor of the project and my approach to coding it up. This means that in part, LiterateExpressions is an exercise in using Racket&rsquo;s scribble documentation language and exploring it&rsquo;s domain specific subset for literate programming.</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3c.Literate.Expressions~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3c.Literate.Expressions~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;LiterateExpressions&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><a href="#%28elem._%28chunk._~3c.Literate.Expressions_requires~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;LiterateExpressions_requires&gt;</a></td></tr><tr><td><a href="#%28elem._%28chunk._~3c.Literate.Expressions_provide~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;LiterateExpressions_provide&gt;</a></td></tr><tr><td><a href="#%28elem._%28chunk._~3c.Literate.Expression_.Modifier_.Alias~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;LiterateExpression_Modifier_Alias&gt;</a></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(elem._(chunk._~3c.Literate.Expressions_requires~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3c.Literate.Expressions_requires~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;LiterateExpressions_requires&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">require</span><span class="hspace">&nbsp;</span><span class="RktVal">"Lexp-structures.rkt"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">require</span><span class="hspace">&nbsp;</span><span class="RktVal">"Lexp-implementation.rkt"</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">require</span><span class="hspace">&nbsp;</span><span class="RktVal">"Perl-Modifiers.rkt"</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(elem._(chunk._~3c.Literate.Expressions_provide~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3c.Literate.Expressions_provide~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;LiterateExpressions_provide&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">provide</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">all-defined-out</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">provide</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">all-from-out</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">"Lexp-structures.rkt"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">all-from-out</span><span class="hspace">&nbsp;</span><span class="RktVal">"Lexp-implementation.rkt"</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">all-from-out</span><span class="hspace">&nbsp;</span><span class="RktVal">"Perl-Modifiers.rkt"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><h3>2<tt>&nbsp;</tt><a name="(part._.Literate.Expression_.Definitions)"></a>LiterateExpression Definitions</h3><p>The base symbol definitions for Racket match those of the underlying perl structure. These may be modified again downstream in an application or library.</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3c.Literate.Expression_.Modifier_.Alias~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3c.Literate.Expression_.Modifier_.Alias~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;LiterateExpression_Modifier_Alias&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">treatStringAsMultipleLines</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">modifier_m</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">treatStringAsSingleLine</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">modifier_s</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">caseInsensitive</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">modifier_i</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">allowWhiteSpaceAndComments</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">modifier_x</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">preserveStringMatched</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">modifier_p</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">useGlobalMatching</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">modifier_g</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">keepCurrentPostion</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">modifier_c</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">asciiSafeMatching</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">modifier_a</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">defaultCharacterSetMatching</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">modifier_d</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">unicodeCharacterSetMatching</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">modifier_u</span></span></span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">loacaleCharacterSetMatching</span><span class="hspace">&nbsp;</span><span class="RktSym"><span class="badlink"><span class="RktValLink">modifier_l</span></span></span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><h3>3<tt>&nbsp;</tt><a name="(part._.Literate.Expression_.Structures)"></a>LiterateExpression Structures</h3><p><span class="RktMeta">Lexp-structures.rkt</span> contains the base structures for building literate experssions.</p><p><div class="SIntrapara"><a name="(elem._(chunk._.Literate.Expressions-structures~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._.Literate.Expressions-structures~3e~3a1%29%29" class="plainlink" data-pltdoc="x">LiterateExpressions-structures&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><a href="#%28elem._%28chunk._~3c.Lexp-structures-provide~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;Lexp-structures-provide&gt;</a></td></tr><tr><td><a href="#%28elem._%28chunk._~3c.Literate.Expression_definition~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;LiterateExpression_definition&gt;</a></td></tr><tr><td><a href="#%28elem._%28chunk._~3c.Literate.Expressions_perl_struct~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;LiterateExpressions_perl_struct&gt;</a></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(elem._(chunk._~3c.Lexp-structures-provide~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3c.Lexp-structures-provide~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;Lexp-structures-provide&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">provide</span><span class="RktPn">(</span><span class="RktSym">all-defined-out</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div></p><h4>3.1<tt>&nbsp;</tt><a name="(part._.Base_.Data.Types)"></a>Base DataTypes</h4><h5>3.1.1<tt>&nbsp;</tt><a name="(part._.Racket_lexp_.Data.Type)"></a>Racket lexp DataType</h5><p>A Literate Expression is expressed as a data structure with two fields.</p><p><div class="SIntrapara">An <span class="RktMeta">lexp</span> is a structure which contains:
</div><div class="SIntrapara"><ul><li><p>a <span class="RktMeta">perl</span> structure <span class="RktMeta">p</span>.</p></li><li><p>a function <span class="RktMeta">f</span> that returns a string for the Racket <span class="RktMeta">regex</span>.</p></li></ul></div></p><p><div class="SIntrapara"><a name="(elem._(chunk._~3c.Literate.Expression_definition~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3c.Literate.Expression_definition~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;LiterateExpression_definition&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">struct</span><span class="hspace">&nbsp;</span><span class="RktSym">lexp</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">p</span><span class="hspace">&nbsp;</span><span class="RktSym">f</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div></p><p>The base datatype of <span class="RktMeta">struct</span> deviates from Racket VerbalExpressions which used a simple matching of <span class="RktMeta">string</span> with <span class="RktMeta">symbol</span>. The reason for changing the data-type to <span class="RktMeta">struct</span> is to ultimately facilitate four possible parsing scenarios:</p><ul><li><p><span class="RktMeta">lexp</span><span class="hspace">&nbsp;</span><span class="RktMeta">-&gt;</span><span class="hspace">&nbsp;</span><span class="RktMeta">perl</span></p></li><li><p><span class="RktMeta">lexp</span><span class="hspace">&nbsp;</span><span class="RktMeta">-&gt;</span><span class="hspace">&nbsp;</span><span class="RktMeta">description</span></p></li><li><p><span class="RktMeta">perl</span><span class="hspace">&nbsp;</span><span class="RktMeta">-&gt;</span><span class="hspace">&nbsp;</span><span class="RktMeta">lexp</span></p></li><li><p><span class="RktMeta">perl</span><span class="hspace">&nbsp;</span><span class="RktMeta">-&gt;</span><span class="hspace">&nbsp;</span><span class="RktMeta">description</span></p></li></ul><h5>3.1.2<tt>&nbsp;</tt><a name="(part._.The_.Racket_perl_structure)"></a>The Racket perl structure</h5><p>The purpose of the <span class="RktMeta">perl</span> structure is to provide a neutral data type that can be exported for use in the implementation of LiterateExpressions in other languages - e.g. the <span class="RktMeta">perl</span> structures could be exported as JSON or XML for use by other programmers interested in implementing LiterateExpressions...or VerbalExpressons for that matter.</p><p><div class="SIntrapara">A <span class="RktMeta">perl</span> is a structure that contains:
</div><div class="SIntrapara"><ul><li><p>A string <span class="RktMeta">symb</span> that provides a consistent name for the Regex token</p></li><li><p>A string <span class="RktMeta">perlx</span> that is the Perl Language Character for the element</p></li><li><p>a string <span class="RktMeta">description</span> that contains the Perl language description.</p></li></ul></div></p><p><div class="SIntrapara"><a name="(elem._(chunk._~3c.Literate.Expressions_perl_struct~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3c.Literate.Expressions_perl_struct~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;LiterateExpressions_perl_struct&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">define-struct</span><span class="hspace">&nbsp;</span><span class="RktSym">perl</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">symb</span><span class="hspace">&nbsp;</span><span class="RktSym">perlx</span><span class="hspace">&nbsp;</span><span class="RktSym">description</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></div></p><p>It is important to recognize that although the Perl Language description may reference features that are not available and that the Regex element may not be available in a particular language - inculding Racket. These are included becuase the wider goal of LiterateExpressions is to provide a platform for implementaiton in other languages, and they may have different features.</p><h3>4<tt>&nbsp;</tt><a name="(part._.Lexp_.Implementation_-_.Unstable)"></a>Lexp Implementation - Unstable</h3><p><span class="RktMeta">Lexp-implementation.rkt</span> contains the base functions and macros for building literate experssions.It [more or less] follows the implementation for Racket VerbalExpressions.</p><p><span style="font-style: italic">Because I am not sure how well it aligns with the goals of LiterateExpressions, this should be considered untsable</span></p><h4>4.1<tt>&nbsp;</tt><a name="(part._.Variables)"></a>Variables</h4><p>The base variables are <span class="RktMeta">string</span>. These store the various parts of the string representing the Regex as it is built up. <span style="font-style: italic">Because this implementation uses mutation and strings, it is likely to change</span></p><p>Each variable is initialized to the empty string.</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3cimplementation-variables~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cimplementation-variables~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;implementation-variables&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">ve-prefix</span><span class="hspace">&nbsp;</span><span class="RktVal">""</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">ve-source</span><span class="hspace">&nbsp;</span><span class="RktVal">""</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">ve-suffix</span><span class="hspace">&nbsp;</span><span class="RktVal">""</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">ve-modifiers</span><span class="hspace">&nbsp;</span><span class="RktVal">""</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>These variables are not exported.</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3cexports~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cexports~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;exports&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">provide</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">except-out</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">all-defined-out</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">ve-prefix</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">ve-source</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">ve-suffix</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">ve-modifiers</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>Each variable has an accessor.</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3cimplementation-accessors~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cimplementation-accessors~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;implementation-accessors&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ve-prefix!</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">set!</span><span class="hspace">&nbsp;</span><span class="RktSym">ve-prefix</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ve-source!</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">set!</span><span class="hspace">&nbsp;</span><span class="RktSym">ve-source</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ve-suffix!</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">set!</span><span class="hspace">&nbsp;</span><span class="RktSym">ve-suffix</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ve-modifiers!</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">set!</span><span class="hspace">&nbsp;</span><span class="RktSym">ve-modifiers</span><span class="hspace">&nbsp;</span><span class="RktSym">v</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><h4>4.2<tt>&nbsp;</tt><a name="(part._.Macros)"></a>Macros</h4><p>The use of Macros is one of the areas where a Racket Implementation will differ substantially from implementations in many other languages. On the other hand, it offers a template for anyone Implementing LiterateExpressions on another Lisp.</p><p>Starts the collection of string data.</p><p><span class="RktPn">(</span><span class="RktMeta">listof</span><span class="hspace">&nbsp;</span><span class="RktMeta">Function</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">-&gt;</span><span class="hspace">&nbsp;</span><span class="RktMeta">String</span><span class="hspace">&nbsp;</span><span class="RktMeta">SideEffects</span></p><p><div class="SIntrapara"><a name="(elem._(chunk._~3cbegin.Capture~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cbegin.Capture~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;beginCapture&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define-syntax-rule</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">beginCapture</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">begin</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">reset</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>Returns the string representing the LiterateExpression.</p><p><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">_</span><span class="hspace">&nbsp;</span><span class="RktMeta">-&gt;</span><span class="hspace">&nbsp;</span><span class="RktMeta">String</span></p><p><div class="SIntrapara"><a name="(elem._(chunk._~3cend.Capture~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cend.Capture~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;endCapture&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define-syntax-rule</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">endCapture</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">string-append</span><span class="hspace">&nbsp;</span><span class="RktSym">ve-prefix</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">ve-source</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">ve-suffix</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">ve-modifiers</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><span class="RktMeta">endCapture</span> has an alias to be consistent with VerbalExpressions:</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3cregex~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cregex~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;regex&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">regex</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">endCapture</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>Modifier flag to make pattern matching case insensitive.</p><p><span class="RktPn">(</span><span class="RktMeta">listof</span><span class="hspace">&nbsp;</span><span class="RktMeta">fn</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">-&gt;</span><span class="hspace">&nbsp;</span><span class="RktMeta">String</span></p><p><div class="SIntrapara"><a name="(elem._(chunk._~3cwith.Any.Case~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cwith.Any.Case~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;withAnyCase&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define-syntax-rule</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">withAnyCase</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">let</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">src</span><span class="hspace">&nbsp;</span><span class="RktSym">ve-source</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ve-source!</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">string-append</span><span class="hspace">&nbsp;</span><span class="RktSym">src</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"(?i:"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">begin</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">...</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">regex</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">")"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>Modifier flag to make pattern matching case sensitive.</p><p><span class="RktPn">(</span><span class="RktMeta">listof</span><span class="hspace">&nbsp;</span><span class="RktMeta">fn</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">-&gt;</span><span class="hspace">&nbsp;</span><span class="RktMeta">String</span></p><p><div class="SIntrapara"><a name="(elem._(chunk._~3cmatch.Case~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cmatch.Case~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;matchCase&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define-syntax-rule</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">matchCase</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">let</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">src</span><span class="hspace">&nbsp;</span><span class="RktSym">ve-source</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ve-source!</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">string-append</span><span class="hspace">&nbsp;</span><span class="RktSym">src</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"(?-i:"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">begin</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktSym">...</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">regex</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">")"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><h5>4.2.1<tt>&nbsp;</tt><a name="(part._.Alternative_.Expressions)"></a>Alternative Expressions</h5><p>These were renamed from the original VerbalExpression implementation in JavaScript</p><p>Renamed from "or" to "OR" to avoid conflict with Racket&rsquo;s built-in <span class="RktMeta">or</span> special form. It&rsquo;s a bit of a kludge, perhaps, but there are not a lot of simple alternatives.</p><p><span class="RktPn">(</span><span class="RktMeta">listof</span><span class="hspace">&nbsp;</span><span class="RktMeta">Function</span><span class="RktPn">)</span><span class="RktMeta"></span><span class="hspace">&nbsp;</span><span class="RktMeta">-&gt;</span><span class="hspace">&nbsp;</span><span class="RktMeta">String</span><span class="hspace">&nbsp;</span><span class="RktMeta">SideEffects</span></p><p><div class="SIntrapara"><a name="(elem._(chunk._~3c.O.R~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3c.O.R~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;OR&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">define-syntax-rule</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">OR</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">let</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">src</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">regex</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">reset</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">ve-source!</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">string-append</span><span class="hspace">&nbsp;</span><span class="RktVal">"("</span><span class="hspace">&nbsp;</span><span class="RktSym">src</span><span class="hspace">&nbsp;</span><span class="RktVal">")|("</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">begin</span><span class="hspace">&nbsp;</span><span class="RktSym">a</span><span class="hspace">&nbsp;</span><span class="RktSym">...</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">")"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><h4>4.3<tt>&nbsp;</tt><a name="(part._.Lexp_.Implementaiton_.Admin)"></a>Lexp Implementaiton Admin</h4><p>Main chunk is required for normal access to code using <span class="RktMeta">scribble/lp</span>. Placed at the end of file so that links can be used for navigation.</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3clexp-implementation-requires~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3clexp-implementation-requires~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;lexp-implementation-requires&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">require</span><span class="hspace">&nbsp;</span><span class="RktVal">"Lexp-structures.rkt"</span><span class="RktPn">)</span></p></blockquote></div></p><p><div class="SIntrapara"><a name="(elem._(chunk._~3c*~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3c%2A~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;*&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><a href="#%28elem._%28chunk._~3cexports~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;exports&gt;</a></td></tr><tr><td><a href="#%28elem._%28chunk._~3cimplementation-variables~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;implementation-variables&gt;</a></td></tr><tr><td><a href="#%28elem._%28chunk._~3cimplementation-accessors~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;implementation-accessors&gt;</a></td></tr><tr><td><a href="#%28elem._%28chunk._~3cbegin.Capture~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;beginCapture&gt;</a></td></tr><tr><td><a href="#%28elem._%28chunk._~3cend.Capture~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;endCapture&gt;</a></td></tr><tr><td><a href="#%28elem._%28chunk._~3cregex~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;regex&gt;</a></td></tr><tr><td><a href="#%28elem._%28chunk._~3cwith.Any.Case~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;withAnyCase&gt;</a></td></tr><tr><td><a href="#%28elem._%28chunk._~3cmatch.Case~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;matchCase&gt;</a></td></tr><tr><td><a href="#%28elem._%28chunk._~3c.O.R~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;OR&gt;</a></td></tr></table></blockquote></div></p><h3>5<tt>&nbsp;</tt><a name="(part._.Modifier_.Definitions)"></a>Modifier Definitions</h3><p>The purpose is to generate a Racket symbol that is consistent with the symbol of its corresponding <span class="RktMeta">perl</span>. These can then be manipulated at the higher levels of the program.</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3c.Perl-modifiers~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3c.Perl-modifiers~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;Perl-modifiers&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><a href="#%28elem._%28chunk._~3cperl-modifiers-requires~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;perl-modifiers-requires&gt;</a></td></tr><tr><td><a href="#%28elem._%28chunk._~3cperl-modifiers-provide~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;perl-modifiers-provide&gt;</a></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">modifier_m</span><span class="hspace">&nbsp;</span><a href="#%28elem._%28chunk._~3cmodifier_m~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_m&gt;</a><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">modifier_s</span><span class="hspace">&nbsp;</span><a href="#%28elem._%28chunk._~3cmodifier_s~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_s&gt;</a><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">modifier_i</span><span class="hspace">&nbsp;</span><a href="#%28elem._%28chunk._~3cmodifier_i~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_i&gt;</a><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">modifier_x</span><span class="hspace">&nbsp;</span><a href="#%28elem._%28chunk._~3cmodifier_x~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_x&gt;</a><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">modifier_p</span><span class="hspace">&nbsp;</span><a href="#%28elem._%28chunk._~3cmodifier_p~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_p&gt;</a><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">modifier_g</span><span class="hspace">&nbsp;</span><a href="#%28elem._%28chunk._~3cmodifier_g~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_g&gt;</a><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">modifier_c</span><span class="hspace">&nbsp;</span><a href="#%28elem._%28chunk._~3cmodifier_c~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_c&gt;</a><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">modifier_a</span><span class="hspace">&nbsp;</span><a href="#%28elem._%28chunk._~3cmodifier_a~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_a&gt;</a><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">modifier_d</span><span class="hspace">&nbsp;</span><a href="#%28elem._%28chunk._~3cmodifier_d~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_d&gt;</a><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">modifier_u</span><span class="hspace">&nbsp;</span><a href="#%28elem._%28chunk._~3cmodifier_u~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_u&gt;</a><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">define</span><span class="hspace">&nbsp;</span><span class="RktSym">modifier_l</span><span class="hspace">&nbsp;</span><a href="#%28elem._%28chunk._~3cmodifier_l~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_l&gt;</a><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p>The perl-modifiers require the structures <span class="RktMeta">lexp</span> and <span class="RktMeta">perl</span> from <span class="RktMeta">Lexp-structures.rkt</span>.</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3cperl-modifiers-requires~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cperl-modifiers-requires~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;perl-modifiers-requires&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><p><span class="RktPn">(</span><span class="RktSym">require</span><span class="hspace">&nbsp;</span><span class="RktVal">"Lexp-structures.rkt"</span><span class="RktPn">)</span></p></blockquote></div></p><p><div class="SIntrapara"><a name="(elem._(chunk._~3cperl-modifiers-provide~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cperl-modifiers-provide~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;perl-modifiers-provide&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym">provide</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">all-defined-out</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="RktPn">(</span><span class="RktSym">provide</span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">all-from-out</span><span class="hspace">&nbsp;</span><span class="RktVal">"Lexp-structures.rkt"</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><h4>5.1<tt>&nbsp;</tt><a name="(part._.Basic_.Modifiers)"></a>Basic Modifiers</h4><p>Perl-definitions from <a href="http://perldoc.perl.org/perlre.html">perldoc: <span style="font-style: italic">Perl regular expressions</span></a> on 2013/12/15.</p><p><div class="SIntrapara"><a name="(elem._(chunk._~3cmodifier_m~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cmodifier_m~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_m&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">perl</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">"treatStringAsMultipleLines"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"m"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Treat string as multiple lines. That is, change '^' and '$' from matching the start or end of line only at the left and right ends of the string to matching them anywhere within the string. \n\n\nUsed together, as '/ms', they let the '.' match any character whatsoever, while still allowing '^' and '$' to match, respectively, just after and just before newlines within the string."</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(elem._(chunk._~3cmodifier_s~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cmodifier_s~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_s&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">perl</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">"treatStringAsSingleLine"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"s"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Treat string as single line. That is, change '.' to match any character whatsoever, even a newline, which normally it would not match. Used together, as /ms, they let the '.' match any character whatsoever, while still allowing '^' and '$' to match, respectively, just after and just before newlines within the string.\n\n\nUsed together, as /ms, they let the '.' match any character whatsoever, while still allowing '^' and '$' to match, respectively, just after and just before newlines within the string."</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara">case insensitive matching
<a name="(elem._(chunk._~3cmodifier_i~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cmodifier_i~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_i&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">perl</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">"caseInsensitive"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"i"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Do case-insensitive pattern matching.\n\nIf locale matching rules are in effect, the case map is taken from the current locale for code points less than 255, and from Unicode rules for larger code points. However, matches that would cross the Unicode rules/non-Unicode rules boundary (ords 255/256) will not succeed. See perllocale.\n\nThere are a number of Unicode characters that match multiple characters under /i. For example, LATIN SMALL LIGATURE FI should match the sequence fi . Perl is not currently able to do this when the multiple characters are in the pattern and are split between groupings, or when one or more are quantified. Thus\n\n\n</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">1. {LATIN SMALL LIGATURE FI} =~ /fi/i; # Matches\n</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">2. {LATIN SMALL LIGATURE FI} =~ /[fi][fi]/i; # Doesn't match!\n</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">3. {LATIN SMALL LIGATURE FI} =~ /fi*/i; # Doesn't match!\n</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal"># The below doesn't match, and it isn't clear what $1 and $2 would\n</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal"># be even if it did!!\n</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">4. {LATIN SMALL LIGATURE FI} =~ /(f)(i)/i; # Doesn't match!\n\n\nPerl doesn't match multiple characters in a bracketed character class unless the character that maps to them is explicitly mentioned, and it doesn't match them at all if the character class is inverted, which otherwise could be highly confusing. See Bracketed Character Classes in perlrecharclass, and Negation in perlrecharclass."</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara">allow whitespace and comments
<a name="(elem._(chunk._~3cmodifier_x~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cmodifier_x~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_x&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">perl</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">"AllowWhiteSpaceAndComments"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"x"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"'x' tells the regular expression parser to ignore most whitespace that is neither backslashed nor within a character class. You can use this to break up your regular expression into (slightly) more readable parts. The # character is also treated as a metacharacter introducing a comment, just as in ordinary Perl code. This also means that if you want real whitespace or # characters in the pattern \\(outside a character class, where they are unaffected by x\\), then you'll either have to escape them \\(using backslashes or \\Q...\\E \\) or encode them using octal, hex, or \\N{} escapes. Taken together, these features go a long way towards making Perl's regular expressions more readable.\n\nNote that you have to be careful not to include the pattern delimiter in the comment--perl has no way of knowing you did not intend to close the pattern early. See the C-comment deletion code in perlop. Also note that anything inside a \\Q...\\E stays unaffected by /x. And note that /x doesn't affect space interpretation within a single multi-character construct.\n\nFor example in \\x\\{...\\} , regardless of the /x modifier, there can be no spaces. Same for a quantifier such as {3} or {5,} . Similarly, \\(?:...\\) can't have a space between the \\(, ?, and : . Within any delimiters for such a construct, allowed spaces are not affected by /x, and depend on the construct. For example, \\x{...} can't have spaces because hexadecimal numbers don't have spaces in them. But, Unicode properties can have spaces, so in \\p{...} there can be spaces that follow the Unicode rules, for which see Properties accessible through \\p{} and \\P{} in perluniprops."</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Preserve strings.
<a name="(elem._(chunk._~3cmodifier_p~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cmodifier_p~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_p&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">perl</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">"preserveStringMatched"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"p"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Preserve the string matched such that ${^PREMATCH}, ${^MATCH}, and ${^POSTMATCH} are available for use after matching."</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Allow global matching.
<a name="(elem._(chunk._~3cmodifier_g~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cmodifier_g~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_g&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">perl</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">"useGlobalMatching"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"g"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Global matching effects the way a regexp is used rather than the regex. "</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Keep current position.
<a name="(elem._(chunk._~3cmodifier_c~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cmodifier_c~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_c&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">perl</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">"keepCurrentPosition"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"c"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Current position effects the way regexp is used rather than the regex."</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><h4>5.2<tt>&nbsp;</tt><a name="(part._.Character_set_modifiers)"></a>Character set modifiers</h4><p>/d, /u , /a , and /l , available starting in 5.14, are called the character set modifiers; they affect the character set semantics used for the regular expression.</p><p>The /d, /u , and /l modifiers are not likely to be of much use to you, and so you need not worry about them very much. They exist for Perl&rsquo;s internal use, so that complex regular expression data structures can be automatically serialized and later exactly reconstituted, including all their nuances. But, since Perl can&rsquo;t keep a secret, and there may be rare instances where they are useful, they are documented here.</p><p><div class="SIntrapara">Allow ASCII safe unicode matching.
<a name="(elem._(chunk._~3cmodifier_a~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cmodifier_a~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_a&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">perl</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">"asciiSafeMatching"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"a"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"ASCII safe matching is to allow code that is to work mostly on ASCII data to not have to concern itself with Unicode."</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara">Use default character set.
<a name="(elem._(chunk._~3cmodifier_d~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cmodifier_d~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_d&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">perl</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">"defaultCharacterSetMatching"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"d"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"/d is the Perl Programming Language's old, problematic, pre-5.14 Default character set behavior. Its only use is to force that old behavior."</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara">use unicode character set
<a name="(elem._(chunk._~3cmodifier_u~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cmodifier_u~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_u&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">perl</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">"uniCodeCharcacterSetMatching"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"u"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Sets the character set to UniCode"</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p><p><div class="SIntrapara">use local character set
<a name="(elem._(chunk._~3cmodifier_l~3e~3a1))"></a><span style="font-weight: bold"><span style="font-style: italic"><a href="#%28elem._%28chunk._~3cmodifier_l~3e~3a1%29%29" class="plainlink" data-pltdoc="x">&lt;modifier_l&gt;</a></span> ::=</span></div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><span class="badlink"><span class="RktValLink">perl</span></span></span><span class="hspace">&nbsp;</span><span class="RktVal">"localeCharacterSetMatching"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"l"</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">"Briefly, /l sets the character set to that of whatever Locale is in effect at the time of the execution of the pattern match."</span><span class="RktPn">)</span></td></tr></table></blockquote></div></p></div></div><div id="contextindicator">&nbsp;</div></body></html>